var seconds=0,speakeron=!0;const lessons=["abcdefghijklmnopqrstuvwxyz","zyxwvutsrqponmlkjihgfedcba","the quick brown fox jumps over the lazy dog."],lessonssize=lessons.reduce((e=>e+1),0);var lessonNumber=0,input="z y x w v u t s r q p o n m l k j i h g f e d c b a",textarray=lessons.at(lessonNumber).split(""),charcount=textarray.length,beep=null,currenthighlighted=null;function main(){beep=document.getElementById("beep"),alert("Place your left hand fingers on the keys A, S, D and F( left index finger). Your right hand fingers on the keys J( right index finger), K, L and semicolon. "),document.getElementById("timer").innerHTML=seconds,document.getElementById("lessonNumber").innerHTML=lessonNumber;for(let t=currentindex=0;t<textarray.length;++t){const n=textarray[t];var e=document.createElement("div");e.style.display="inline-block",e.style.margin="2px 0px 2px 0px",e.id=t,e.innerHTML=" "==n?"&nbsp":n,document.getElementById("screen").appendChild(e)}document.addEventListener("keypress",(function(e){pressedkey=e.key,console.log("Key pressed: "+pressedkey),null!=document.getElementById(currentindex)&&(textarray[currentindex]!=pressedkey?(document.getElementById(currentindex).style.backgroundColor="#FF0000",playbeep()):document.getElementById(currentindex).style.backgroundColor="#00FF66",analytics(textarray[currentindex],pressedkey),currentindex++),13===e.keyCode&&refresh(),8===e.keyCode&&alert("When speaker is on it will beep on mistakes. You can not edit mistakes, so continue typing and try to not make same mistake next time."),displayAnalytics()})),setInterval("autoRefreshTimer()",1e3),setInterval("autoRefreshImg()",250)}function autoRefreshTimer(){seconds++,document.getElementById("timer").innerHTML=seconds}function loadContent(e){for(charcount=e.length,textarray=e.split("");document.getElementById("screen").lastElementChild;)document.getElementById("screen").removeChild(document.getElementById("screen").lastElementChild);for(let e=currentindex=0;e<textarray.length;++e){const n=textarray[e];var t=document.createElement("div");t.style.display="inline-block",t.style.margin="2px 0px 2px 0px",t.id=e,t.innerHTML=" "==n?"&nbsp":n,document.getElementById("screen").appendChild(t)}currentindex=0}function refresh(){lessonNumber>=lessonssize&&(lessonNumber=0),document.getElementById("lessonNumber").innerHTML=lessonNumber,loadContent(lessons.at(lessonNumber)),document.getElementById("righthandimg").src="img/right-hand-No.png",document.getElementById("lefthandimg").src="img/left-hand-No.png"}function nextPage(){++lessonNumber>=lessonssize&&(lessonNumber=0),document.getElementById("lessonNumber").innerHTML=lessonNumber,loadContent(lessons.at(lessonNumber)),document.getElementById("righthandimg").src="img/right-hand-No.png",document.getElementById("lefthandimg").src="img/left-hand-No.png"}function goHome(){lessonNumber=0,document.getElementById("lessonNumber").innerHTML=lessonNumber,loadContent(lessons.at(lessonNumber)),document.getElementById("righthandimg").src="img/right-hand-No.png",document.getElementById("lefthandimg").src="img/left-hand-No.png"}function backPage(){--lessonNumber<0&&(lessonNumber=lessonssize-1),document.getElementById("lessonNumber").innerHTML=lessonNumber,loadContent(lessons.at(lessonNumber)),document.getElementById("righthandimg").src="img/right-hand-No.png",document.getElementById("lefthandimg").src="img/left-hand-No.png"}function togglespeaker(){speakeron?(document.getElementById("speakerspan").innerHTML="&#128263;",speakeron=!1):(document.getElementById("speakerspan").innerHTML="&#128266;",speakeron=!0)}function autoRefreshImg(){null!=document.getElementById(currentindex)&&(changeHandImages(textarray[currentindex]),null==currenthighlighted?(currenthighlighted=textarray[currentindex],document.getElementById(currenthighlighted).classList.add("fontLarge")):null!=document.getElementById(currenthighlighted)&&isCharacterALetter(textarray[currentindex])&&(document.getElementById(currenthighlighted).classList.remove("fontLarge"),currenthighlighted=textarray[currentindex],document.getElementById(currenthighlighted).classList.add("fontLarge"))),currentindex==charcount&&(document.getElementById(currenthighlighted).classList.remove("fontLarge"),document.getElementById("lefthandimg").src="img/left-hand-No.png",document.getElementById("righthandimg").src="img/right-hand-No.png")}function isCharacterALetter(e){return/[a-zA-Z]/.test(e)}function playbeep(){speakeron&&beep.play()}function help(){alert("Press home button to go to lesson 0. Press enter button to repeat same lesson. You can not edit mistakes, so continue typing and try to not make same mistake next time.")}function featureNotReady(){alert("Feature is under devlopment.")}function changeHandImages(e){"a"!=e&&"q"!=e&&"z"!=e||(document.getElementById("lefthandimg").src="img/left-hand-A-rows.png",document.getElementById("righthandimg").src="img/right-hand-No.png"),"s"!=e&&"w"!=e&&"x"!=e||(document.getElementById("lefthandimg").src="img/left-hand-S-rows.png",document.getElementById("righthandimg").src="img/right-hand-No.png"),"e"!=e&&"d"!=e&&"c"!=e||(document.getElementById("lefthandimg").src="img/left-hand-D-rows.png",document.getElementById("righthandimg").src="img/right-hand-No.png"),"r"!=e&&"f"!=e&&"v"!=e&&"t"!=e&&"g"!=e&&"b"!=e||(document.getElementById("lefthandimg").src="img/left-hand-F-rows.png",document.getElementById("righthandimg").src="img/right-hand-No.png"),"y"!=e&&"h"!=e&&"n"!=e&&"u"!=e&&"j"!=e&&"m"!=e||(document.getElementById("righthandimg").src="img/right-hand-J-rows.png",document.getElementById("lefthandimg").src="img/left-hand-No.png"),"i"!=e&&"k"!=e&&","!=e||(document.getElementById("righthandimg").src="img/right-hand-K-rows.png",document.getElementById("lefthandimg").src="img/left-hand-No.png"),"o"!=e&&"l"!=e&&"."!=e||(document.getElementById("righthandimg").src="img/right-hand-L-rows.png",document.getElementById("lefthandimg").src="img/left-hand-No.png"),"p"!=e&&";"!=e&&"/"!=e||(document.getElementById("righthandimg").src="img/right-hand-P-rows.png",document.getElementById("lefthandimg").src="img/left-hand-No.png")}let timerdisplay=!0;function toggleTimerDisplay(){1==timerdisplay?(document.getElementById("timerdiv").style.display="none",timerdisplay=!1):(document.getElementById("timerdiv").style.display="block",timerdisplay=!0)}let goodLetterKeyPressCount=new Array(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),badLetterKeyPressCount=new Array(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);function analytics(e,t){if(e==t)switch(t){case"a":goodLetterKeyPressCount[0]=goodLetterKeyPressCount[0]+1;break;case"b":goodLetterKeyPressCount[1]=goodLetterKeyPressCount[1]+1;break;case"c":goodLetterKeyPressCount[2]=goodLetterKeyPressCount[2]+1;break;case"d":goodLetterKeyPressCount[3]=goodLetterKeyPressCount[3]+1;break;case"e":goodLetterKeyPressCount[4]=goodLetterKeyPressCount[4]+1;break;case"f":goodLetterKeyPressCount[5]=goodLetterKeyPressCount[5]+1;break;case"g":goodLetterKeyPressCount[6]=goodLetterKeyPressCount[6]+1;break;case"h":goodLetterKeyPressCount[7]=goodLetterKeyPressCount[7]+1;break;case"i":goodLetterKeyPressCount[8]=goodLetterKeyPressCount[8]+1;break;case"j":goodLetterKeyPressCount[9]=goodLetterKeyPressCount[9]+1;break;case"k":goodLetterKeyPressCount[10]=goodLetterKeyPressCount[10]+1;break;case"l":goodLetterKeyPressCount[11]=goodLetterKeyPressCount[11]+1;break;case"m":goodLetterKeyPressCount[12]=goodLetterKeyPressCount[12]+1;break;case"n":goodLetterKeyPressCount[13]=goodLetterKeyPressCount[13]+1;break;case"o":goodLetterKeyPressCount[14]=goodLetterKeyPressCount[14]+1;break;case"p":goodLetterKeyPressCount[15]=goodLetterKeyPressCount[15]+1;break;case"q":goodLetterKeyPressCount[16]=goodLetterKeyPressCount[16]+1;break;case"r":goodLetterKeyPressCount[17]=goodLetterKeyPressCount[17]+1;break;case"s":goodLetterKeyPressCount[18]=goodLetterKeyPressCount[18]+1;break;case"t":goodLetterKeyPressCount[19]=goodLetterKeyPressCount[19]+1;break;case"u":goodLetterKeyPressCount[21]=goodLetterKeyPressCount[21]+1;break;case"v":goodLetterKeyPressCount[22]=goodLetterKeyPressCount[22]+1;break;case"w":goodLetterKeyPressCount[23]=goodLetterKeyPressCount[23]+1;break;case"x":goodLetterKeyPressCount[24]=goodLetterKeyPressCount[24]+1;break;case"y":goodLetterKeyPressCount[25]=goodLetterKeyPressCount[25]+1;break;case"z":goodLetterKeyPressCount[26]=goodLetterKeyPressCount[26]+1}else switch(t){case"a":badLetterKeyPressCount[0]=badLetterKeyPressCount[0]+1;break;case"b":badLetterKeyPressCount[1]=badLetterKeyPressCount[1]+1;break;case"c":badLetterKeyPressCount[2]=badLetterKeyPressCount[2]+1;break;case"d":badLetterKeyPressCount[3]=badLetterKeyPressCount[3]+1;break;case"e":badLetterKeyPressCount[4]=badLetterKeyPressCount[4]+1;break;case"f":badLetterKeyPressCount[5]=badLetterKeyPressCount[5]+1;break;case"g":badLetterKeyPressCount[6]=badLetterKeyPressCount[6]+1;break;case"h":badLetterKeyPressCount[7]=badLetterKeyPressCount[7]+1;break;case"i":badLetterKeyPressCount[8]=badLetterKeyPressCount[8]+1;break;case"j":badLetterKeyPressCount[9]=badLetterKeyPressCount[9]+1;break;case"k":badLetterKeyPressCount[10]=badLetterKeyPressCount[10]+1;break;case"l":badLetterKeyPressCount[11]=badLetterKeyPressCount[11]+1;break;case"m":badLetterKeyPressCount[12]=badLetterKeyPressCount[12]+1;break;case"n":badLetterKeyPressCount[13]=badLetterKeyPressCount[13]+1;break;case"o":badLetterKeyPressCount[14]=badLetterKeyPressCount[14]+1;break;case"p":badLetterKeyPressCount[15]=badLetterKeyPressCount[15]+1;break;case"q":badLetterKeyPressCount[16]=badLetterKeyPressCount[16]+1;break;case"r":badLetterKeyPressCount[17]=badLetterKeyPressCount[17]+1;break;case"s":badLetterKeyPressCount[18]=badLetterKeyPressCount[18]+1;break;case"t":badLetterKeyPressCount[19]=badLetterKeyPressCount[19]+1;break;case"u":badLetterKeyPressCount[21]=badLetterKeyPressCount[21]+1;break;case"v":badLetterKeyPressCount[22]=badLetterKeyPressCount[22]+1;break;case"w":badLetterKeyPressCount[23]=badLetterKeyPressCount[23]+1;break;case"x":badLetterKeyPressCount[24]=badLetterKeyPressCount[24]+1;break;case"y":badLetterKeyPressCount[25]=badLetterKeyPressCount[25]+1;break;case"z":badLetterKeyPressCount[26]=badLetterKeyPressCount[26]+1}}let analyticdisplay=!0;function toggleAnalyticDisplay(){1==analyticdisplay?(seconds=0,document.getElementById("analyticdiv").style.display="none",analyticdisplay=!1):(document.getElementById("analyticdiv").style.display="block",analyticdisplay=!0)}var accuracyPercentage=0;function displayAnalytics(){accA=goodLetterKeyPressCount[0]/(goodLetterKeyPressCount[0]+badLetterKeyPressCount[0])*100;var e=0;for(var t in goodLetterKeyPressCount)isNaN(goodLetterKeyPressCount[t])||(e+=goodLetterKeyPressCount[t]);var n=0;for(var t in badLetterKeyPressCount)isNaN(badLetterKeyPressCount[t])||(n+=badLetterKeyPressCount[t]);console.log(e+", "+n),accuracyPercentage=e/(e+n)*100,isNaN(accuracyPercentage)?document.getElementById("accuracy").innerHTML="00.00":document.getElementById("accuracy").innerHTML=accuracyPercentage.toFixed(2)}